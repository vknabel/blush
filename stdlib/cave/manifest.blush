module cave

// Marks the current data structure as a dependencies manifest.
annotation Dependencies {}

annotation Version {
  // The version predicate for the Git dependency.
  // Examples:
  //   - "main"
  //   - "~1.2.3"
  //   - "^1.2.3"
  //   - ">=1.2.3"
  //   - ">= 1.0.0"
  //   - "< 1.0.0"
  //   - ">= 1.0.0"
  //   - ">= 1.0.0"
  @String predicate
}

// The type of dependency: standard library, Git, or local.
enum Source {
  Stdlib
  Git
  Local
}

// Marks the current data structure as a standard library dependency.
annotation Stdlib {
  // The name of the standard library dependency.
  @String name
}

// Marks a field as a Git dependency with a URL and predicate.
// The field name represents the import name of the dependency in this package.
annotation Git {
  // The URL of the Git repository.
  @String url
}

// Marks a field as a local dependency with a path.
annotation Local {
  // The local path to the dependency.
  @String path
}
